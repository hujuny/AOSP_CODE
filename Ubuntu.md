## Ubuntu

参考：

https://www.runoob.com/linux

https://www.yuque.com/hujuny/java/xcfbxw

### 快捷键

| **ctrl+shift+v**                                    | 粘贴                                                         |
| --------------------------------------------------- | ------------------------------------------------------------ |
| **ctrl+shift+c**                                    | 复制                                                         |
| **CTRL + L**                                        | 终端清除屏幕                                                 |
| **ctrl + shift + =**                                | 放大终端窗口的字体显示                                       |
| **ctrl + -**                                        | 缩小终端窗口的字体显示                                       |
| 在敲出文件/目录/命令的前几个字母之后，按下**tab键** | 如果输入的没有歧义，系统会自动补全 ；如果还存在其他文件/目录/命令，再按一下tab键，系统会提示可能存在的命令 |
| **上/下光标键**                                     | 可以在曾经使用过的命令之间来回切换                           |
| **ctrl + c**                                        | 可如果想要退出选择，并且不想执行当前选中的命令               |
| **Alt+F2**                                          | 打开命令输入框（gnome-terminal 即可打开终端）                |
| **CTRL + ALT + T**                                  | 打开新的终端                                                 |
| **CTRL+SHIFT + T**                                  | 在当前终端同级打开新的终端                                   |
| **CTRL + D**                                        | 关闭标签页                                                   |
| **CTRL + R + 文本**                                 | 在输入历史中搜索                                             |
| **CTRL + A**                                        | 移动到行首                                                   |
| **CTRL + E**                                        | 移动到行末                                                   |
| **CTRL + Z**                                        | 把当前任务放到后台运行（相当于运行命令时后面加&）            |
| **~**                                               | 表示用户目录路径                                             |
|                                                     |                                                              |
|                                                     |                                                              |
|                                                     |                                                              |



### 命令

|       命令       |       对应英文       |                   含义                   |
| :--------------: | :------------------: | :--------------------------------------: |
|        ls        |         list         |          查看当前文件夹下的内容          |
|       pwd        | print work directory |            查看当前所在文件夹            |
|   cd [+目录名]   |   change directory   |                切换文件夹                |
| touch [+文件名]  |                      | 如果文件不存在，在当前目录下新建一个文件 |
|  vim [+文件名]   |     Vi IMproved      |            以vim方式打开文件             |
|  cat [+文件名]   |     concatenate      |               查看文件内容               |
| mkdir [+目录名]  |    make directory    |   在当前目录下创建一个文件夹(创建目录)   |
|   rm [+文件名]   |        remove        |             删除指定的文件名             |
|      clear       |                      |                   清屏                   |
| "command" --help |                      |      显示 `command` 命令的帮助信息       |
|                  |                      |                                          |

#### man

| 命令              | 对应英文 | 含义                          |
| ----------------- | -------- | ----------------------------- |
| **man "command"** | manual   | 查阅 `command` 命令的使用手册 |

`man` 是 **manual** 的缩写，是 **Linux** 提供的一个 手册，包含了绝大部分的命令、函数的详细使用说明

| 操作键   | 功能                 |
| -------- | -------------------- |
| 空格键   | 显示手册页的下一屏   |
| Enter 键 | 一次滚动手册页的一行 |
| b        | 回滚一屏             |
| f        | 前滚一屏             |
| q        | 退出                 |
| /word    | 搜索 word 字符串     |

#### Vim

| 命令            | 含义                        |
| --------------- | --------------------------- |
| `vim [+文件名]` | 以vim方式打开文件           |
| `i`             | 插入模式(Insert Mode)       |
| `Esc`           | 进入命令模式 (Command Mode) |
| `:q`            | 退出                        |
| `:wq`           | 保存并退出                  |
| `:q!`           | 强行退出                    |
| `cat[文件名]`   | 查看文本内容                |

#### cd

Linux 所有的 **目录** 和 **文件**名 都是大小写敏感的

| 命令      | 含义                                   |
| --------- | -------------------------------------- |
| `d /`     | 切换到根目录                           |
| `cd`      | 切换到当前用户的主目录(/home/用户目录) |
| `cd ~`    | 切换到当前用户的主目录(/home/用户目录) |
| `cd .`    | 保持在当前目录不变                     |
| `cd ../`  | 切换到上一级目录或`cd ..`              |
| `cd /usr` | 切换到根目录下的usr目录                |
| `cd -`    | 切换到上次访问的目录                   |

#### ls

| 命令          | 含义                                                         |
| ------------- | ------------------------------------------------------------ |
| `ls`          | 查看当前目录下的所有目录和文件                               |
| `ls -a`       | 查看当前目录下的所有目录和文件（包括隐藏的文件）             |
| `ls -l 或 ll` | 列表查看当前目录下的所有目录和文件（以列表形式显示文件的详细信息） |
| `ls -h -l`    | 配合 -l 以人性化的方式显示文件大小                           |
| `ls /dir`     | 查看指定目录下的所有目录和文件 如：ls /usr                   |
| `～`          | 代表用户主目录（home/用户目录）                              |
| `.`           | 代表当前目录                                                 |
| `..`          | 代表上一级目录                                               |

#### mkdir

| 命令               | 含义                                                         |
| ------------------ | ------------------------------------------------------------ |
| `mkdir aaa`        | 在当前目录下创建一个名为aaa的目录                            |
| `mkdir /usr/aaa`   | 在指定目录下创建一个名为aaa的目录                            |
| `mkdir -p aa/bb/c` | 使用-p参数，可以**递归创建目录**（将路径的层次目录全部创建） |

#### rm

| 选项 | 含义                                             | 语法：                  |
| ---- | ------------------------------------------------ | ----------------------- |
| `-f` | 强制删除，忽略不存在的文件，无需提示             | $ rm -f 文件位置/文件名 |
| `-r` | 递归地删除目录下的内容，删除文件夹时必须加此参数 | $ rm -r 文件位置/文件名 |

| 命令         | 含义                                                         |
| ------------ | ------------------------------------------------------------ |
| `rm 文件`    | 删除当前目录下的文件                                         |
| `rm -f 文件` | 强制删除，删除当前目录的的文件（无提示信息）                 |
| `rmdir`      | 只能删除空目录                                               |
| `rm -r aaa`  | 递归删除当前目录下的aaa目录                                  |
| `rm -rf aaa` | 递归删除当前目录下的aaa目录（无提示信息）                    |
| `rm -rf *`   | 将当前目录下的所有目录和文件全部删除（无提示信息）           |
| `rm -rf /*`  | **【自杀命令！慎用！慎用！慎用！】** 将根目录下的所有文件全部删除 |
| `rm -ri *`   | 为了避免删除发生错误,使用如下命令来询问                      |

#### tree/copy/move

| 命令                 | 对应英文                                                     | 作用                                                         |
| -------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| `tree [+目录名]`     | tree                                                         | 以树状图列出文件目录结构                                     |
| `cp 源文件 目标文件` | copy                                                         | 复制文件或者目录                                             |
| `mv 源文件 目标文件` | move                                                         | 移动文件或者目录／文件或者目录重命名                         |
| tree`-d`             | 只显示目录                                                   | $ `tree -d`                                                  |
| `-i`                 | 覆盖文件前提示                                               | 文件：$ `mv -i ~/Documents/read.txt ~/sql/` 目录：$ `mv -i ~/Documents/b ~/sql/` 重命名：$ `mv -i 原文件(夹)名 新文件(夹)名` |
| `-i`                 | 覆盖文件前提示                                               | $ `cp -i ~/sql/123.txt ~/Documents/read.txt`                 |
| `-r`                 | 若给出的源文件是目录文件，则 cp 将递归复制该目录下的所有子目录和文件，目标文件必须为一个目录名 | $ `cp -r ~/sql/a ~/Documents/b`                              |

#### find

命令：`find 目录 参数 文件名称`

示例：`find /usr/tmp -name 'a*'` 查找/usr/tmp目录下的所有以a开头的目录或文件

#### `touch`

命令：`touch 文件名`
创建文件或修改文件时间
如果文件 不存在，可以创建一个空白文件
如果文件 已经存在，可以修改文件的末次修改日期
示例：在当前目录创建一个名为aa.txt的文件 `touch aa.txt`

#### `cat`、`more`或`grep`

`cat` 命令可以用来 查看**文件内容、创建文件、文件合并、追加文件内容** 等功能
`cat` 会一次显示所有的内容，适合 **查看内容较少** 的文本文件

| 选项 | 含义               | 语法：                   |
| ---- | ------------------ | ------------------------ |
| `-b` | 对非空输出行编号   | $`cat -b ~/sql/123.txt`  |
| `-n` | 对输出的所有行编号 | $` cat -n ~/sql/123.txt` |

`more` 命令可以用于分屏显示文件内容，每次只显示一页内容
适合于 查看**内容较多**的文本文件

| 操作键   | 功能                 |
| -------- | -------------------- |
| 空格键   | 显示手册页的下一屏   |
| Enter 键 | 一次滚动手册页的一行 |
| b        | 回滚一屏             |
| f        | 前滚一屏             |
| q        | 退出                 |
| /word    | 搜索 **word** 字符串 |

Linux 系统中 grep 命令是一种强大的文本搜索工具
grep允许对文本文件进行 模式查找，所谓模式查找，又被称为正则表达式

| 选项 | 含义                                     | 语法：                         |
| ---- | ---------------------------------------- | ------------------------------ |
| `-n` | 显示匹配行及行号                         | $ `grep -n 人生 ~/sql/123.txt` |
| `-v` | 显示不包含匹配文本的所有行（相当于求反） | $ `grep -v 人生 ~/sql/123.txt` |
| `-i` | 忽略大小写                               | $ `grep -i 人生 ~/sql/123.txt` |

| 参数  | 含义                         |
| ----- | ---------------------------- |
| `^a`  | 行首，搜寻以 **a** 开头的行  |
| `ke$` | 行尾，搜寻以 **ke** 结束的行 |

#### grep

(global regular expression),用于查找文件里符合条件的字符串或正则表达式。

grep 指令用于查找内容包含指定的范本样式的文件，如果发现某文件的内容符合所指定的范本样式，预设 grep 指令会把含有范本样式的那一列显示出来。若不指定任何文件名称，或是所给予的文件名为 **-**，则 grep 指令会从标准输入设备读取数据。

```shell
grep [options] pattern [files]
或
grep [-abcEFGhHilLnqrsvVwxy][-A<显示行数>][-B<显示列数>][-C<显示列数>][-d<进行动作>][-e<范本样式>][-f<范本文件>][--help][范本样式][文件或目录...]
pattern - 表示要查找的字符串或正则表达式。
files - 表示要查找的文件名，可以同时查找多个文件，如果省略 files 参数，则默认从标准输入中读取数据。
-i：忽略大小写进行匹配。
-v：反向查找，只打印不匹配的行。
-n：显示匹配行的行号。
-r：递归查找子目录中的文件。
-l：只打印匹配的文件名。
-c：只打印匹配的行数。
-a 或 --text : 不要忽略二进制的数据。
-A<显示行数> 或 --after-context=<显示行数> : 除了显示符合范本样式的那一列之外，并显示该行之后的内容。
-b 或 --byte-offset : 在显示符合样式的那一行之前，标示出该行第一个字符的编号。
-B<显示行数> 或 --before-context=<显示行数> : 除了显示符合样式的那一行之外，并显示该行之前的内容。
-c 或 --count : 计算符合样式的列数。
-C<显示行数> 或 --context=<显示行数>或-<显示行数> : 除了显示符合样式的那一行之外，并显示该行之前后的内容。
-d <动作> 或 --directories=<动作> : 当指定要查找的是目录而非文件时，必须使用这项参数，否则grep指令将回报信息并停止动作。
-e<范本样式> 或 --regexp=<范本样式> : 指定字符串做为查找文件内容的样式。
-E 或 --extended-regexp : 将样式为延伸的正则表达式来使用。
-f<规则文件> 或 --file=<规则文件> : 指定规则文件，其内容含有一个或多个规则样式，让grep查找符合规则条件的文件内容，格式为每行一个规则样式。
-F 或 --fixed-regexp : 将样式视为固定字符串的列表。
-G 或 --basic-regexp : 将样式视为普通的表示法来使用。
-h 或 --no-filename : 在显示符合样式的那一行之前，不标示该行所属的文件名称。
-H 或 --with-filename : 在显示符合样式的那一行之前，表示该行所属的文件名称。
-i 或 --ignore-case : 忽略字符大小写的差别。
-l 或 --file-with-matches : 列出文件内容符合指定的样式的文件名称。
-L 或 --files-without-match : 列出文件内容不符合指定的样式的文件名称。
-n 或 --line-number : 在显示符合样式的那一行之前，标示出该行的列数编号。
-o 或 --only-matching : 只显示匹配PATTERN 部分。
-q 或 --quiet或--silent : 不显示任何信息。
-r 或 --recursive : 此参数的效果和指定"-d recurse"参数相同。
-s 或 --no-messages : 不显示错误信息。
-v 或 --invert-match : 显示不包含匹配文本的所有行。
-V 或 --version : 显示版本信息。
-w 或 --word-regexp : 只显示全字符合的列。
-x --line-regexp : 只显示全列符合的列。
-y : 此参数的效果和指定"-i"参数相同。
```

#### scp(远程文件传输)

```shell
将本地文件拷贝到远程：scp 文件名 用户名@计算机IP或者计算机名称:远程路径
从远程将文件拷回本地：scp 用户名@计算机IP或者计算机名称:文件名本地路径
将本地目录拷贝到远程：scp -r 目录名 用户名@计算机IP或者计算机名称:远程路径
从远程将目录拷回本地：scp -r 用户名@计算机IP或者计算机名称:目录名本地路径
```

#### nohup（后台运行）

```shell
#参数说明：
#Command：要执行的命令。
#Arg：一些参数，可以指定输出文件。
#&：让命令在后台执行，终端退出后命令仍旧执行。
nohup Command [ Arg … ] [　& ]
nohup /root/runoob.sh &
#将标准错误 2 重定向到标准输出 &1 ，标准输出 &1 再被重定向输入到 runoob.log 文件中。
0 – stdin (standard input，标准输入)
1 – stdout (standard output，标准输出)
2 – stderr (standard error，标准错误输出)
nohup /root/runoob.sh > runoob.log 2>&1 &
```



### 系统

* 关机

```shell
sudo shutdown -h 18:00    18点关机
sudo shutdown -r now      立即重启
sudo shutdown -h now      立即关机
```

* 重启

```shell
reboot
```

* pid查看/监控

```shell
top
htop
kill -9 pid 杀死pid（程序）
```

* 查看文件个数

```shell
ls -lR|grep "^-"| wc -l
```

* 当前目录下各个文件夹的大小

```shell
du -sh ./* --exclude proc
```

* 查看文件

```shell
more test.txt
```

* 默认显示前10行

```shell
head -n test.txt
```

* 查看文件最后200行

```shell
tail  -200    test.txt
```



### 软件

#### 安装

```shell
sudo dpkg -i XXX.deb  #软件安装(使用包全名)

sudo reboot(重启电脑)
 #移除不再使用的软件包及配置文件
sudo apt --purge autoremove
 
sudo apt install update-manager-core
 
sudo do-release-upgrade
#查找软件包
sudo apt search <keyword>
#列出所有已安装的包
apt list --installed
#列出所有已安装的包的版本信息
apt list --all-versions
```

#### 更新

```shell
#列出可更新的软件包及版本信息
apt list --upgradeable

sudo apt update
#列出了需要更新的软件，需要下载的大小，占用的硬盘空间大小等
sudo apt upgrade
# 如有错误（Checking for a new Ubuntu release There is no development version of an LTS available. To upgrade to the latest non-LTS develoment release set Prompt=normal in /etc/update-manager/release-upgrades.执行如下即可
sudo do-release-upgrade -d
#升级软件包，升级前先删除需要更新软件包
sudo apt full-upgrade
sudo apt update <package_name>
#删除软件包
sudo apt remove <package_name>
#清理不再使用的依赖和库文件
sudo apt autoremove
```

#### 卸载

| 命令            | 含义                          |
| --------------- | ----------------------------- |
| `ls/cd/pwd`     | 目录的切换和查看/查看当前目录 |
| `mkdir/rmdir`   | 创建和删除文件夹(目录)        |
| `cp/rm/mv`      | 复制/删除/移动（重命名）      |
| `tar/zip/unzip` | 文件打包和解压缩              |
| `ln`            | 软连接                        |